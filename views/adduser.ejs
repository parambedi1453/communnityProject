<!DOCTYPE html>
<html>
    <head>
       <% include partials/bootstrap.ejs %>
        
        <style>
            .body
            {
                height : 100% ;
                background-color: #F3F4F4;;
                color: #575757 !important;
                font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
                font-size: 14px;
                line-height: 1.42857143;
                margin: 0;
                box-sizing: border-box;
                display: block;
            }
            html
            {
                height: 100%;
                margin-top: 0px;
            }

            .mainDiv
            {
                background-color: #fff;
                border: 5px solid rgba(0,0,0,0.1);
                margin-top: 40px;
            }
            .heading
            {
                font-size: 36px;
                margin-top: 20px;
                margin-bottom: 10px;
                font-weight: 500;
                line-height: 1.1;
                color: inherit;
            }

            .div-min-width
            {
                min-width: 360px;

            }

            *
            {
                box-sizing: border-box;
            }

        </style>
   
    </head>

    <body class="body">
        <% include partials/header.ejs %>
        <div id="viewscreen" >
            <% include partials/sidebar.ejs %>

            <div id="rightview" >
                <div class="container-fluid div-min-width" style="padding:0;">
                    <div class="row">
                        <div class="col-lg-12 parentDiv" style="padding:0">
                            <div class="container">
                                <div class="col-sm-3">
                                </div>
                                <div class="col-sm-6 mainDiv">
                                    <br>
                                    <h1 class="heading">Add User</h1>
                                    <form class="form-horizontal formDiv">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="name" placeholder="Name">
                                                <br>
                                            </div>

                                            <div class="form-group">
                                                <input type="text" class="form-control" id="email2" placeholder="Email">
                                                <br>
                                            </div>

                                            <div class="form-group">
                                                <input type="password" class="form-control" id="password2" placeholder="User Password">
                                                <br>
                                            </div>

                                            <div class="form-group">
                                                <input type="text" class="form-control" id="phone" placeholder="Phone">
                                                <br>
                                            </div>

                                            <div class="form-group">
                                                <input type="text" class="form-control" id="dob2" placeholder="D.O.B">
                                                <br>
                                            </div>

                                            <div class="form-group">
                                                <input type="text" class="form-control" id="City" placeholder="City">
                                                <br>
                                            </div>

                                            <div class="form-group">
                                                <label>Role</label>
                                                <br>
                                                <select data-style="btn-info" class="form-control" id="roleid">
                                                    <optgroup label="Select User Role">
                                                        <option value="user">User</option>
                                                        <option value="communitybuilder">CommunityBuilder</option>
                                                        <option value="admin">Admin</option>
                                                    </optgroup>
                                                </select>
                                            </div>

                                            <div class="form-group">
                                                <label>Gender</label>
                                                <br>
                                                <select data-style="btn-info" class="form-control" id="genderid">
                                                    <optgroup label="Select Gender">
                                                        <option value="male">Male</option>
                                                        <option value="female">Female</option>

                                                    </optgroup>
                                                </select>
                                            </div>

                                            <div class="form-group">
                                                <input type="submit" value="Add User" class="btn btn-success" id="submit-btn">
                                                <input value="Cancel" class="btn btn-danger" id="cancel-btn">
                                            </div>

                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </body>
    <script src="/openpanel.js">
    </script>
    <script>
       
        var colorLi = document.getElementById("sidebar-add");
        colorLi.setAttribute("style","background-color:#337ab7;");
        storeToDb();
        function storeToDb()
        {
            var cancelbtn = document.getElementById("cancel-btn");
            cancelbtn.addEventListener("click",function(event){
                window.location = "/profilePage"
            })

            var submitbtn = document.getElementById("submit-btn");
            submitbtn.addEventListener("click",function(event){
                var name = document.getElementById("name");
                var email = document.getElementById("email2");
                var password = document.getElementById("password2");
                var phone = document.getElementById("phone");
                var city = document.getElementById("City");
                var role = document.getElementById("roleid");
                var gender = document.getElementById("genderid");
                var dob = document.getElementById("dob2");
                var ob = new Object();
                ob.name = name.value;
                ob.email = email.value;
                ob.password = password.value;
                ob.phone = phone.value;
                ob.city = city.value;
                ob.role = role.value;
                ob.gender = gender.value;
                ob.dob = dob.value;
                ob.state = "0";
                ob.status = "pending";
                ob.isupdate = "0";
            //    console.log(ob);
                var request = new XMLHttpRequest();
                var filename = '/createuser';
                request.open('POST',filename);
                request.setRequestHeader("content-Type","application/JSON");
                request.send(JSON.stringify(ob));
                request.onload = function()
                {
                    alert("a user is added");
                    console.log("7777")
                    
                }
            })

        }

    </script>
</html>
